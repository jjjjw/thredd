var React = require('react');

exports.Comment = React.createClass({
  render: function () {
    return React.DOM.div(null
      , React.DOM.span(null, this.props.user)
      , React.DOM.span(null, this.props.body)
      , exports.Thread({comments: this.props.children || []})
    );
  }
});

exports.Thread = React.createClass({
  render: function () {
    var comments = {};
    this.props.comments.forEach(function (comment) {
      comments[comment.id] = exports.Comment(comment);
    });
    return React.DOM.section(null, comments);
  }
});
