var React = require('react/addons')
  ;

module.exports = React.createClass({
  render: function () {
    var comment = this.props.comment
      , user = this.props.users[this.props.comment.user]
      ;
    var date = new Date(comment.createdAt);
    return React.DOM.div({className: 'comment', id: 'comment-' + comment.id}
      , React.DOM.div({className: 'comment-header'}
        , React.DOM.a({className: 'user-name', href: '/users/' + user.id }, user.name)
        , React.DOM.a({className: 'comment-link', href: '/articles/' + comment.article + '#comment-' + comment.id}
          , 'Comment'
          )
        , React.DOM.a({className: 'comment-time-link', href: '#comment-' + comment.id}
          , React.DOM.span({className: 'comment-timestamp'}
              , React.DOM.time({dateTime: date.toJSON(), title: date.toString()}, date.toDateString())
            )
          )
        )
      , React.DOM.div({className: 'comment-body', dangerouslySetInnerHTML: {__html: comment.body }})
      , React.DOM.div({className: 'comment-footer'})
    );
  }
});
